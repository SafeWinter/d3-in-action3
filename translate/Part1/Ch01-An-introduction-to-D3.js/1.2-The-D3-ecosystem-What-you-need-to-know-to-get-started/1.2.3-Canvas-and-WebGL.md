### 1.2.3 Canvas 与 WebGL

虽然 D3 项目常用 SVG 元素来构建，但偶尔也会遇到对大型数据集创建复杂可视化的情况，这时再用 SVG 来实现可能会出现性能问题。关键是记住一点：D3 会对数据可视化中的每一个图形向 DOM 中添加一个或多个 SVG 元素。其中一个典型案例，是实现一个由数千个节点（nodes）和链接（links）组成的大型网络可视化效果——估计会让浏览器不堪重负……虽然浏览器不断升级的性能可以轻松处理越来越多的对象型数量，但一则普遍接受的实践经验是：如果可视化包含的元素超过 1000 个，就应该考虑改用 Canvas 而不是 SVG。

Canvas 画布是一类客户端绘图 API，利用脚本（通常为 JavaScript）来创建视觉效果和动画。Canvas 不会将 XML 元素添加到 DOM 中，这就大大提高了构建大型数据集下的可视化效果的性能。但 Canvas 无法提供能与 SVG 媲美的高清渲染效果，并且会使交互逻辑的处理复杂化，因此综合考虑，本书主要还是沿用 SVG 来进行构建。

Canvas 还可以通过 WebGL 的 API 创建出 3D 对象。虽然 WebGL 的学习不在本书讨论范围内，但在 Web 中创建 3D 数据可视化是完全可行的。目前，它主要用于实验性质的项目。本书第 15 章还会介绍如何使用 Canvas 构建可视化，并讨论其优缺点。